-- =========================================
-- Initial philosophers data (with deleted flag)
-- =========================================

-- トランザクション開始
BEGIN;

-- 重複実行を防ぐため、既存データがある場合はスキップ
DO $$
BEGIN
    IF EXISTS (SELECT 1 FROM philosophers WHERE name = 'ソクラテス') THEN
        RAISE NOTICE 'Philosophers data already exists. Skipping insertion.';
    ELSE
        -- データ挿入
        INSERT INTO philosophers
        (name, era, description,
         answer_01, answer_02, answer_03,
         answer_04, answer_05, answer_06,
         answer_07, answer_08, answer_09,
         answer_10, answer_11, answer_12,
         answer_13, answer_14, answer_15, answer_16,
         deleted, created_by)
        VALUES
        -- ソクラテス
        ('ソクラテス', '紀元前5世紀',
         'アテナイの哲学者、無知の知・対話法。',
         -1, 0, +1,
         +1, -1, +2,
         -1,  0,  0,
         +1, +1,  0,
         +1, -1, -1, -1,
         false, 'system'),

        -- プラトン
        ('プラトン', '紀元前4世紀',
         'イデア論・対話篇・形而上学の祖。',
         +1, +1, +1,
         +1, +1, +1,
         +1, +2, -1,
         -1, -1, -1,
         -1, +1,  0, +1,
         false, 'system'),

        -- アリストテレス
        ('アリストテレス', '紀元前4世紀',
         '経験論・原因論・徳倫理。',
          0, +1,  0,
         +2,  0, +1,
         +1, +1, -1,
         -1, -1, -1,
         -1, +1, +1,  0,
         false, 'system'),

        -- カント
        ('イマヌエル・カント', '18世紀',
         '批判哲学・認識論・義務論。',
         +1, +2, +1,
         -1, -2, -1,
         -1, +1, -2,
         -2, -2, -1,
         +1, +2,  0, 0,
         false, 'system'),

        -- ヘーゲル
        ('ゲオルク・ヴィルヘルム・フリードリヒ・ヘーゲル', '19世紀',
         '絶対精神・弁証法。',
         -1, +2, -1,
         +1, +1, +1,
          0,  0, -1,
         -2, -1, -2,
         -2,  0, +1,  +1,
         false, 'system'),

        -- ショーペンハウアー
        ('アルトゥル・ショーペンハウアー', '19世紀',
         '意志と表象としての世界・悲観主義。',
         -1,  0, +2,
          0, -2, +1,
         -1, -1, +1,
         +1, +1,  0,
         +1, -1, -2, -2,
         false, 'system'),

        -- マルクス
        ('カール・マルクス', '19世紀',
         '唯物史観・資本論。',
         -1, +1, +1,
          0, -2, +2,
         -1, -1, +1,
         +2, +1, +2,
          0, -1, +2, -1,
         false, 'system'),

        -- キルケゴール
        ('セーレン・キルケゴール', '19世紀',
         '実存主義の祖・主体的真理。',
         -2, -1, +2,
          0, -2, +1,
         -1,  0,  0,
         +1, +2, +2,
         +2, -1, -2, -2,
         false, 'system'),

        -- ニーチェ
        ('フリードリヒ・ニーチェ', '19世紀',
         '力への意志・永劫回帰・価値創造。',
         -2, -1, +2,
         -1, -2,  0,
         +1, +2, +1,
         +2, +1, +2,
          0, -2, -1, -2,
         false, 'system'),

        -- フレーゲ
        ('ゴットロープ・フレーゲ', '19世紀',
         '概念記法・論理主義の父。',
         +2, +2, -2,
         -1, -2,  0,
         -2, -2,  0,
         -2, -2, -2,
         -1, +1, +1, +2,
         false, 'system'),

        -- ウィトゲンシュタイン
        ('ルートヴィヒ・ウィトゲンシュタイン', '20世紀',
         '言語ゲーム・示されるもの。',
         +1, -1, +2,
         -2, +1, +1,
         -1, +1, -1,
         +1, +1, -1,
         +1, -1, -1,  0,
         false, 'system'),

        -- フッサール
        ('エドムント・フッサール', '20世紀',
         '現象学の創始者・本質観取。',
         +1, +2, +1,
          0, -1,  0,
         +1, +2, -1,
         -1, -2, -2,
         +2,  0, -1, -2,
         false, 'system'),

        -- ハイデガー
        ('マルティン・ハイデガー', '20世紀',
         '存在と時間・現象学の刷新。',
         -2, -2, +2,
          0, +2, -1,
         +2, +2, -2,
         +2, +1, +2,
         +2, -1, -2, -2,
         false, 'system'),

        -- デリダ
        ('ジャック・デリダ', '20世紀',
         '脱構築・差延。',
         -2, -2, +2,
          0, -2, +1,
         +1, +2, +1,
         +2, +1, +2,
         +2,  0, -1, -1,
         false, 'system'),

        -- ドゥルーズ
        ('ジル・ドゥルーズ', '20世紀',
         '差異と反復・生成変化。',
         -2, -1, +2,
         -1, -2,  0,
         +2, +2, +2,
         +2, +1, +2,
         +1, -2, -1, -2,
         false, 'system'),

        -- クワイン
        ('ウィラード・ヴァン・オーマン・クワイン', '20世紀',
         '自然主義・全体論的検証主義。',
         +1, +2, +1,
         -1, -2,  0,
         -1,  0,  0,
         +1, -2, -1,
         -1,  0, +2, +1,
         false, 'system'),

        -- デイヴィドソン
        ('ドナルド・デイヴィドソン', '20世紀',
         'ラディカル解釈・信念の整合性。',
         +2, +2,  0,
          0, -2,  0,
         -1,  0,  0,
         -1, -1, -2,
         -1,  0, +1, +1,
         false, 'system');

        RAISE NOTICE 'Inserted 17 philosophers successfully.';
    END IF;
END $$;

-- トランザクションコミット
COMMIT;
